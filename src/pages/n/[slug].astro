---
import { getCollection, getEntry } from "astro:content";
import Base from "../../layouts/Base.astro";

export const getStaticPaths = async () => {
  const notes = await getCollection("notes");
  return notes.map((entry) => ({ params: { slug: entry.slug } }));
};

const note = await getEntry("notes", Astro.params.slug);
const { Content } = await note.render();
---

<Base pageTitle={note.data.title} description={note.data.description}>
  <a href="/notes">back to notes</a>
  <div class="border-t-2 border-t-lavender my-2"></div>
  {note.data.description && <p class="my-2">{note.data.description}</p>}
  <article class="prose lg:prose-lg leading-6 mt-4">
    <Content />
  </article>
</Base>
